<!doctype html>
<html lang="lv" data-bs-theme="auto">
  <head>
    <meta charset="utf-8" />
    <meta
      http-equiv="Content-Security-Policy"
      content="default-src 'self'; script-src 'self' https:; style-src 'self' https: 'unsafe-inline'; img-src 'self' data: https:; connect-src 'self' https:; font-src 'self' https: data:; object-src 'none'; base-uri 'self';"
    />
    <meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover" />
    <meta name="theme-color" content="#0e0f13" />
    <meta name="description" content="Kas ir manā mājā? — 6. deklinācijas detektīvs." />
    <title>Kas ir manā mājā? — 6th Declension Detective</title>
    <link rel="manifest" href="manifest.json" />
    <link rel="apple-touch-icon" href="assets/icons/apple-touch-icon.png" />
    <link rel="icon" type="image/png" sizes="192x192" href="assets/icons/icon-192.png" />
    <link rel="icon" type="image/png" sizes="512x512" href="assets/icons/icon-512.png" />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-sRIl4kxILFvY47J16cr9ZwB07vP4J8+LH7qKQnuqkuIAvNWLzeN8tE5YBujZqJLB"
      crossorigin="anonymous"
    />
    <link rel="stylesheet" href="styles.css" />
    <link rel="stylesheet" href="src/games/decl6-detective/styles.css" />
  </head>
  <body class="decl6-page game-theme theme-decl6">
    <a class="skip-link" href="#main">Skip to main content</a>
    <nav
      class="navbar navbar-expand-lg bg-body-tertiary fixed-top border-bottom"
      role="banner"
      data-site-nav
    ></nav>

    <main id="main" class="container decl6-main py-5 mt-5">
      <header class="decl6-hero mb-4">
        <p class="decl6-eyebrow mb-2">B1 Detective Exercise</p>
        <h1 class="h3 mb-2">Kas ir manā mājā? — 6th Declension Detective</h1>
        <p class="mb-0 text-muted">
          Izvēlies telpu uz kartes, atbloķē pavedienu un atrisini pareizo 6. deklinācijas formu.
        </p>
      </header>

      <div
        id="decl6-live-region"
        class="visually-hidden"
        aria-live="polite"
        aria-atomic="true"
      ></div>

      <section id="decl6-stage" class="decl6-stage" aria-label="6th declension detective board">
        <div id="decl6-board-panel" class="decl6-board-panel">
          <canvas
            id="decl6-canvas"
            width="960"
            height="540"
            aria-label="Mājas un apkārtnes karte izmeklēšanai"
          ></canvas>

          <div id="decl6-overlay" class="decl6-overlay">
            <h2 id="decl6-overlay-title" class="h4 mb-2">6. deklinācijas detektīvs</h2>
            <p id="decl6-overlay-body" class="mb-3">
              Atrodi pareizo telpu ar bultiņām, nospied Enter un tad izvēlies pareizo formu.
            </p>
            <button id="decl6-start" type="button" class="btn btn-primary">Sākt izmeklēšanu</button>
          </div>
        </div>

        <aside class="decl6-dossier" aria-label="Case dossier">
          <div class="decl6-metrics" aria-label="Game stats">
            <div class="decl6-metric">
              <span>Punkti</span>
              <strong id="decl6-score">0</strong>
            </div>
            <div class="decl6-metric">
              <span>Sērija</span>
              <strong id="decl6-streak">0</strong>
            </div>
            <div class="decl6-metric">
              <span>Labākā</span>
              <strong id="decl6-best">0</strong>
            </div>
            <div class="decl6-metric">
              <span>Dzīvības</span>
              <strong id="decl6-hearts">3</strong>
            </div>
            <div class="decl6-metric">
              <span>Laiks</span>
              <strong id="decl6-timer">03:00</strong>
            </div>
            <div class="decl6-metric">
              <span>Lietas</span>
              <strong id="decl6-solved">0/8</strong>
            </div>
            <div class="decl6-metric">
              <span>Kopējais XP</span>
              <strong id="decl6-total-xp">0</strong>
            </div>
          </div>

          <article class="decl6-clue-card" aria-live="polite">
            <p id="decl6-round" class="decl6-round">Lieta 0 / 8</p>
            <h2 id="decl6-prompt" class="decl6-prompt">Gaida pavedienu…</h2>
            <p id="decl6-case" class="decl6-case">Mērķa forma: —</p>
            <p id="decl6-hint" class="decl6-hint">Padoms: —</p>
          </article>

          <details class="decl6-howto">
            <summary>Kā spēlēt / How to play</summary>
            <ol class="decl6-howto-list">
              <li>
                Nospied <strong>Sākt izmeklēšanu</strong> vai taustiņu <strong>Enter</strong>.
              </li>
              <li>
                Pārvieto izvēli pa karti ar <strong>bultiņām</strong> vai <strong>WASD</strong>.
              </li>
              <li>
                Kad esi izvēlējies telpu, nospied <strong>Enter</strong>, lai pārmeklētu telpu.
              </li>
              <li>
                Ja telpa ir pareiza, izvēlies vārda formu ar pogām <strong>1-4</strong> vai peles
                klikšķi.
              </li>
              <li>
                Nepareiza telpa vai forma samazina <strong>dzīvības</strong> un atņem
                <strong>laiku</strong>.
              </li>
              <li>
                Atrisini <strong>8 lietas</strong>, pirms beidzas laiks vai dzīvības, lai uzvarētu.
              </li>
            </ol>
          </details>

          <div class="decl6-controls">
            <button id="decl6-inspect" class="btn btn-outline-light" type="button" disabled>
              Pārmeklēt telpu (Enter)
            </button>
            <button id="decl6-next" class="btn btn-warning" type="button" disabled>
              Nākamā lieta
            </button>
          </div>

          <div
            id="decl6-options"
            class="decl6-options"
            role="group"
            aria-label="Atbilžu varianti"
          ></div>

          <p id="decl6-feedback" class="decl6-feedback">
            Sāc izmeklēšanu, lai saņemtu pirmo pavedienu.
          </p>

          <p class="decl6-help mb-2">
            Kontroles: bultiņas/WASD pārvieto izvēli, Enter pārmeklē telpu, 1-4 izvēlas formu, F
            ieslēdz pilnekrānu.
          </p>

          <button id="decl6-restart" class="btn btn-outline-info" type="button">
            Sākt no jauna
          </button>
        </aside>
      </section>
    </main>

    <footer class="border-top py-4 bg-body-tertiary mt-4" data-site-footer></footer>

    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-FKyoEForCGlyvwx9Hj09JcYn3nv7wiPVlz7YYwJrWVcXK/BmnVDxM+D2scQbITxI"
      crossorigin="anonymous"
    ></script>
    <script type="module" src="src/games/decl6-detective/index.js" defer></script>
    <script type="module" src="theme.js"></script>
    <script type="module" src="scripts/nav.js"></script>
    <script type="module" src="scripts/page-init.js"></script>
  </body>
</html>
