<!doctype html>
<html lang="lv" data-bs-theme="auto">
  <head>
    <meta charset="utf-8" />
    <!-- CSP allows inline styles for existing inline snippets -->
    <meta
      http-equiv="Content-Security-Policy"
      content="default-src 'self'; script-src 'self' https:; style-src 'self' https: 'unsafe-inline'; img-src 'self' data: https:; connect-src 'self' https:; font-src 'self' https: data:; object-src 'none'; base-uri 'self'; frame-ancestors 'none';"
    />
    <meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover" />
    <meta name="theme-color" content="#0e0f13" />
    <title>Endings Builder — Latvian B1</title>
    <link rel="manifest" href="manifest.json" />
    <link rel="apple-touch-icon" href="assets/icons/apple-touch-icon.png" />
    <link rel="icon" type="image/png" sizes="192x192" href="assets/icons/icon-192.png" />
    <link rel="icon" type="image/png" sizes="512x512" href="assets/icons/icon-512.png" />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-sRIl4kxILFvY47J16cr9ZwB07vP4J8+LH7qKQnuqkuIAvNWLzeN8tE5YBujZqJLB"
      crossorigin="anonymous"
    />
    <link rel="stylesheet" href="styles.css" />
    <link rel="stylesheet" href="src/games/endings-builder/styles.css" />
  </head>
  <body class="dp-page game-theme theme-endings eb-page">
    <a class="dp-skip" href="#main">Skip to main content</a>

    <nav data-site-nav></nav>

    <main id="main">
      <div class="dp-container">
        <section class="eb-wrapper" id="ebRoot">
          <header class="dp-ex-hero eb-hero">
            <div class="eb-hero__copy">
              <p class="dp-ex-eyebrow">Morphology lab</p>
              <h1 class="dp-ex-title mb-2" data-eb-heading>Endings Builder</h1>
              <p class="dp-ex-lead mb-0" data-eb-subtitle>
                Drag the correct ending to build the word.
              </p>
              <div class="dp-ex-badges">
                <span class="dp-badge dp-badge--focus">Focus: endings</span>
                <span class="dp-badge">Mode: build + type</span>
                <span class="dp-badge">Level: B1</span>
              </div>
            </div>
            <div class="dp-ex-hero__side">
              <div class="dp-ex-hero__visual" aria-hidden="true">
                <div
                  class="dp-orb"
                  style="width: clamp(120px, 14vw, 160px); height: clamp(120px, 14vw, 160px)"
                >
                  <div class="dp-orb__ring"></div>
                  <div class="dp-orb__ring"></div>
                  <div class="dp-orb__ring"></div>
                  <div class="dp-orb__core"></div>
                </div>
              </div>
            </div>
          </header>

          <section class="dp-ex-panel eb-panel" aria-labelledby="eb-controls-heading">
            <div class="dp-ex-panel__body">
              <h2 id="eb-controls-heading" class="dp-ex-panel__title" data-eb-controls-heading>
                Round Controls
              </h2>
              <details class="eb-howto">
                <summary>Kā spēlēt / How to play</summary>
                <div class="eb-howto__grid">
                  <section aria-labelledby="eb-howto-lv">
                    <h3 id="eb-howto-lv">Latviski</h3>
                    <ol>
                      <li>Nolasi mērķa formu panelī “Round focus”.</li>
                      <li>Uzklikšķini galotni un ievieto to pie saknes (vai velc ar peli).</li>
                      <li>Ieraksti pilno formu laukā un spied Enter vai “Pārbaudīt”.</li>
                      <li>“Rādīt noteikumu” parāda locīšanas tabulu tieši šim vārdam.</li>
                      <li>
                        “Izlaist / Nākamais” pāriet uz nākamo raundu; pareiza atbilde ceļ sēriju.
                      </li>
                    </ol>
                  </section>
                  <section aria-labelledby="eb-howto-en">
                    <h3 id="eb-howto-en">English</h3>
                    <ol>
                      <li>Read the target form in the “Round focus” panel.</li>
                      <li>Select an ending and place it onto the stem (or drag and drop).</li>
                      <li>Type the full form and press Enter or “Check”.</li>
                      <li>Use “Show rule” to open the declension table for this word.</li>
                      <li>“Skip / Next” moves forward; correct answers build your streak.</li>
                    </ol>
                  </section>
                </div>
              </details>
              <div data-game-shell></div>
              <div class="eb-feedback" aria-live="polite">
                <span class="eb-feedback__icon" data-feedback-icon></span>
                <span class="eb-feedback__text" data-feedback-text></span>
              </div>
              <div class="eb-explain visually-hidden" data-eb-explain aria-live="polite"></div>
            </div>
          </section>

          <section class="dp-ex-board eb-workspace" aria-labelledby="eb-board-heading">
            <div class="dp-ex-board__header">
              <h2 id="eb-board-heading" class="dp-ex-board__title" data-eb-board-heading>
                Build Workspace
              </h2>
            </div>
            <article class="eb-round-brief" data-eb-round-brief aria-live="polite"></article>
            <div class="eb-workspace-grid">
              <section class="eb-zone" aria-labelledby="eb-build-zone-title">
                <h3 id="eb-build-zone-title" class="eb-zone__title" data-eb-build-zone-title>
                  Build the form
                </h3>
                <div class="eb-board" id="ebBoard"></div>
              </section>
              <section class="eb-zone" aria-labelledby="eb-options-zone-title">
                <h3 id="eb-options-zone-title" class="eb-zone__title" data-eb-options-zone-title>
                  Ending bank
                </h3>
                <div class="eb-board eb-board--options" id="ebOptions" aria-label="Endings"></div>
                <p class="eb-pick-help" data-eb-pick-help></p>
              </section>
            </div>

            <label class="w-100 eb-answer-wrap">
              <span class="visually-hidden" id="ebAnswerLabel">Type the full form</span>
              <input
                type="text"
                class="eb-answer"
                aria-labelledby="ebAnswerLabel"
                autocomplete="off"
              />
            </label>
            <p class="eb-answer-help" data-eb-answer-help></p>
            <div class="eb-keypad" aria-label="Latvian letters"></div>
          </section>
        </section>
      </div>
    </main>

    <footer class="dp-footer" data-site-footer></footer>

    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-FKyoEForCGlyvwx9Hj09JcYn3nv7wiPVlz7YYwJrWVcXK/BmnVDxM+D2scQbITxI"
      crossorigin="anonymous"
    ></script>
    <script src="i18n/offline.js"></script>
    <script src="data/endings-builder/offline.js"></script>
    <script type="module" src="src/games/endings-builder/index.js"></script>
    <script type="module" src="theme.js"></script>
    <script type="module" src="scripts/nav.js"></script>
    <script type="module" src="scripts/page-init.js"></script>
  </body>
</html>
